<mat-card>
    <mat-card-content>
        <form [formGroup]="storageForm">
			<h2>Create Storage Space</h2>
            <div formArrayName="storage_levels">

				<div *ngFor="let level of storageLevels.controls; let i = index" [formGroupName]="i">

					<mat-form-field appearance="legacy">
						<input
							matInput
							type="text"
							formControlName="storage_space"
							[placeholder]="'Level ' + (i + 1)"
							required
						/>
						
					</mat-form-field>
					
					<mat-icon *ngIf="storageLevels.controls.length !== 1" matSuffix class="icon" (click)="removeStorageLevel(i)">remove_circle_outline</mat-icon>
					<mat-icon *ngIf="storageLevels.controls.length - 1 == i" matSuffix class="icon" (click)="addStorageLevel()">add_circle_outline</mat-icon>
				</div>

            </div>
			<button mat-flat-button type="submit" color="primary">
				Create Storage
			</button>
        </form>
    </mat-card-content>
</mat-card>
